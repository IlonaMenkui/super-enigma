(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},111:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),c=a(11),o=a.n(c),l=a(42),s=a(21),u=a(81),p=a(12),m="SEARCH_MOVIES_RESET",v="LOAD_MOVIES_SUCCESS",g="INIT_SEARCH_PROPS",h="LOAD_MOVIES_REQUEST",d="LOAD_MOVIES_FAILURE",y="SET_PAGE",E="CACHE_GENRES",O={POPULAR:"/",UPCOMING:"/upcoming",NOW_PLAYING:"/nowplaying"},f=[{TITLE:"popular",PATH:O.POPULAR},{TITLE:"upcoming",PATH:O.UPCOMING},{TITLE:"now playing",PATH:O.NOW_PLAYING}],b={POPULAR:"popular",UPCOMING:"upcoming",NOW_PLAYING:"now_playing"},C="https://api.themoviedb.org/3/",I={URL:"".concat(C,"movie/"),SEARCH_URL:"".concat(C,"search/movie"),GENRES_URL:"".concat(C,"genre/movie/list"),API_KEY:"ab7c9fc53125a8e8d9fd23c8704f80e5"},P="https://image.tmdb.org/t/p/w200/",R=20,S=13,k=500*R,A={movies:[],cachedGenres:[],page:1,totalResults:0,isLoading:!1,isSearchChange:!1,searchQuery:""},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(p.a)({},e,t.payload);case m:return Object(p.a)({},e,{searchQuery:"",isLoading:!1,page:1});case y:case g:return Object(p.a)({},e,t.payload);case h:return Object(p.a)({},e,{isLoading:!0,movies:[]});case d:return{isLoading:!1};case E:return Object(p.a)({},e,t.payload);default:return e}},L=a(172),F=a(24),j=a(28),U=a(19),T=a(32),M=a(29),Q=a(31),V=a(163),w=a(170),K=a(162),J=(a(102),function(e,t){var a=e.PATH,n=e.TITLE;return i.a.createElement(K.a,{key:t,className:"tab",label:n,to:a})}),q=function(e){return{type:y,payload:e}},G=Object(s.b)(function(e){return Object(p.a)({},e)},{resetSearchMovies:function(){return{type:m}},setPage:q})(n=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(T.a)(this,Object(M.a)(t).call(this,e))).handleChange=function(e,t){var n=a.props,r=n.history,i=n.resetSearchMovies,c=n.searchQuery,o=n.setPage;r.push(f[t].PATH),a.setState({value:t}),c?i():o({page:1})},a.state={value:0},a}return Object(Q.a)(t,e),Object(U.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.history.location.pathname,t={value:f.findIndex(function(t){var a=t.PATH;return e===a})};this.setState(t)}},{key:"render",value:function(){var e=this.state.value;return i.a.createElement("header",null,i.a.createElement(V.a,null,i.a.createElement(w.a,{value:e,centered:!0,onChange:this.handleChange,indicatorColor:"primary"},f.map(J))))}}]),t}(i.a.Component))||n,W=a(84),z=a.n(W),H=a(171);a(111);function x(e){var t=e.searchQuery,a=e.onHandleChange,n=e.onSearchClick,c=e.onEnterPress,o=Object(r.useCallback)(function(e){c(e)},[c]),l=Object(r.useCallback)(function(e){a(e)},[a]),s=Object(r.useCallback)(function(){n()},[n]);return i.a.createElement("div",{className:"search-wrap"},i.a.createElement(H.a,{placeholder:"Search\u2026",className:"input",inputProps:{"aria-label":"Search"},onKeyPress:o,onChange:l,value:t}),i.a.createElement("div",{className:"search-icon"},i.a.createElement(z.a,{color:"primary",onClick:s})))}var _,D=x;x.defaultProps={searchQuery:""};var Z=Object(s.b)(function(e){return Object(p.a)({},e)},{initSearch:function(e){return{type:g,payload:e}}})(_=function(e){function t(){var e,a;Object(j.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(T.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={searchQuery:""},a.onSearchClick=function(){(0,a.props.initSearch)({searchQuery:a.state.searchQuery,page:1})},a.onEnterPress=function(e){var t=a.state.searchQuery;e.charCode===S&&a.onSearchClick(t)},a.onHandleChange=function(e){a.setState({searchQuery:e.target.value})},a}return Object(Q.a)(t,e),Object(U.a)(t,[{key:"componentDidUpdate",value:function(e){var t=e.searchQuery,a=this.props.searchQuery;t===a||a||this.setState({searchQuery:""})}},{key:"render",value:function(){var e=this.state.searchQuery;return i.a.createElement(D,{onHandleChange:this.onHandleChange,onSearchClick:this.onSearchClick,onEnterPress:this.onEnterPress,searchQuery:e})}}]),t}(i.a.Component))||_,X=a(165),Y=a(49),B=a(79),$=a(85),ee=a.n($),te=(a(114),Object(Y.a)());function ae(e){var t=e.totalResults,a=e.page,n=e.onClickPage,r=R*a-1;return i.a.createElement(B.a,{theme:te},i.a.createElement(X.a,null),i.a.createElement(V.a,{className:"pagination-wrap",square:!0},i.a.createElement(ee.a,{limit:R,offset:r,total:t,onClick:function(e,t){n(e,t)}})))}ae.defaultProps={page:1,totalResults:0};var ne=ae,re=a(167),ie=a(166),ce=(a(115),function(){return i.a.createElement("div",{className:"circular-wrapp"},i.a.createElement(ie.a,{className:"circular"}))}),oe=a(173),le=a(168),se=a(143),ue=a(88),pe=a(169),me=a(86),ve=a.n(me);a(116);function ge(e){var t=e.genres,a=e.title,n=e.overview,c=e.posterPath,o=e.voteAverage,l=e.releaseDate,s=e.popularity,u=e.originalLanguage,p=e.voteCount,m=e.originalTitle,v=Object(r.useState)(!1),g=Object(ue.a)(v,2),h=g[0],d=g[1],y=Object(r.useCallback)(function(){d(!0)},[d]),E=Object(r.useCallback)(function(){d(!1)},[d]),O=null===c?ve.a:"".concat(P).concat(c&&c.substring(1));return i.a.createElement("div",null,i.a.createElement("img",{className:"img",alt:"poster",src:O,onClick:y}),i.a.createElement(pe.a,{onClose:E,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:h},i.a.createElement("div",{className:"modal-paper"},i.a.createElement("div",null,i.a.createElement("img",{className:"img",alt:"poster",src:O})),i.a.createElement("div",{className:"text-wrap"},i.a.createElement(re.a,{gutterBottom:!0,variant:"h4"},a),i.a.createElement(re.a,{variant:"subtitle2"},i.a.createElement("b",null,"Original title: "),"".concat(m," (").concat(u,")")),i.a.createElement(re.a,{variant:"subtitle2"},i.a.createElement("b",null,"Vote average (vote count): "),"".concat(o," (").concat(p,")")),i.a.createElement(re.a,{variant:"subtitle2"},i.a.createElement("b",null,"Popularity index: "),"".concat(s)),i.a.createElement(re.a,{variant:"subtitle2"},i.a.createElement("b",null,"Full date of release: "),l?"".concat(l.replace(/-/g,".")):"No release date"),i.a.createElement(re.a,{variant:"subtitle2"},i.a.createElement("b",null,"Overview: "),n?"".concat(n):"No overview"),i.a.createElement(re.a,{variant:"subtitle2"},i.a.createElement("b",null,"Genres: "),t.length?"".concat(t.join(", ")):"No genres")))))}ge.defaultProps={genres:[],overview:"No overview",releaseDate:"No release date",voteAverage:0,popularity:0,originalTitle:"No original title",originalLanguage:"No original language",voteCount:0,title:"No title",posterPath:null};var he=ge,de=(a(117),function(e){var t=e.genres,a=e.title,n=e.overview,r=e.posterPath,c=e.voteAverage,o=e.releaseDate,l=e.popularity,s=e.originalLanguage,u=e.voteCount,p=e.originalTitle;return i.a.createElement(le.a,{container:!0,spacing:2},i.a.createElement(le.a,{item:!0},i.a.createElement(se.a,null,i.a.createElement(he,{popularity:l,originalLanguage:s,voteCount:u,originalTitle:p,genres:t,title:a,overview:n,posterPath:r,voteAverage:c,releaseDate:o}))),i.a.createElement(le.a,{item:!0,xs:12,sm:!0,container:!0},i.a.createElement(le.a,{className:"overview",item:!0,xs:!0,container:!0,direction:"column",spacing:2},i.a.createElement(le.a,{item:!0,xs:!0},i.a.createElement(re.a,{gutterBottom:!0,variant:"h5"},i.a.createElement("div",{className:"title-wrap"},i.a.createElement("div",null,a)),i.a.createElement(re.a,{variant:"body2",color:"textSecondary"},o?new Date(o).getFullYear():"No release date")),i.a.createElement(re.a,{variant:"body2",gutterBottom:!0},n||"No overview"),i.a.createElement(re.a,{variant:"body2",color:"textSecondary"},t.length?"Genres: ".concat(t.join(", ")):"No genres"))),i.a.createElement(le.a,{item:!0},i.a.createElement(oe.a,{className:"chip",label:c,variant:"outlined"}))))});de.defaultProps={genres:[],overview:"No overview",voteAverage:0,popularity:0,originalTitle:"No original title",originalLanguage:"No original language",voteCount:0,title:"No title"};var ye=de,Ee=(a(118),function(e){var t=e.movies,a=e.title,n=e.isLoading;return i.a.createElement("main",{className:"movies-wrap"},i.a.createElement(V.a,null,i.a.createElement(re.a,{className:"heading",variant:"h4"},n||0!==t.length?a:"No results"),n?i.a.createElement(ce,null):i.a.createElement(i.a.Fragment,null,t.map(function(e){return i.a.createElement(ye,{title:e.title,genres:e.genres,voteAverage:e.voteAverage,overview:e.overview,posterPath:e.posterPath,releaseDate:e.releaseDate,popularity:e.popularity,originalLanguage:e.originalLanguage,voteCount:e.voteCount,originalTitle:e.originalTitle})}))))});Ee.defaultProps={movies:[]};var Oe,fe,be=Ee,Ce=a(62),Ie=a.n(Ce),Pe=function(e){var t=e.searchQuery,a=e.url,n=e.page;return function(e){return 0!==e.length?Promise.resolve(e):Ie.a.get(I.GENRES_URL,{params:{api_key:I.API_KEY}}).then(function(e){return e.data.genres})}(e.cachedGenres).then(function(e){return function(e){var t=e.searchQuery,a=e.page,n=e.url;return Ie.a.get(n,{params:{api_key:I.API_KEY,query:t,page:a}}).then(function(e){var t=e.data.results,a=e.data.total_results;return a>k&&(a=k),{totalResults:a,movies:t.map(function(e){var t=e.title,a=e.genre_ids,n=e.vote_average,r=e.overview,i=e.poster_path,c=e.release_date;return{title:t,genresIds:a,voteAverage:n,overview:r,popularity:e.popularity,originalLanguage:e.original_language,voteCount:e.vote_count,originalTitle:e.original_title,releaseDate:c,posterPath:i}})}})}({searchQuery:t,page:n,url:a}).then(function(t){var a=t.movies;return{totalResults:t.totalResults,movies:a.map(function(t){return function(e,t){var a=e.genresIds,n=t.filter(function(e){var t=e.id;return a.includes(t)}).map(function(e){return e.name});return Object(p.a)({},e,{genres:n})}(t,e)}),genres:e}})})},Re=Object(s.b)(function(e){return Object(p.a)({},e)},{requestLoadMovies:function(){return{type:h}},successLoadMovies:function(e){return{type:v,payload:e}},failureLoadMovies:function(){return{type:d}},cacheGenres:function(e){return{type:E,payload:e}}})(Oe=function(e){function t(){return Object(j.a)(this,t),Object(T.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(Q.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.page;this.loadMovies(e)}},{key:"componentDidUpdate",value:function(e){var t=e.title,a=e.page,n=e.searchQuery,r=this.props,i=r.title,c=r.page,o=r.searchQuery;t===i&&n===o&&a===c||this.loadMovies(c,o)}},{key:"loadMovies",value:function(e,t){var a=this.props,n=a.type,r=a.requestLoadMovies,i=a.successLoadMovies,c=a.failureLoadMovies,o=a.cachedGenres,l=a.cacheGenres;r();var s=t?I.SEARCH_URL:"".concat(I.URL).concat(n);return Pe({page:e,url:s,searchQuery:t,cachedGenres:o}).then(function(e){var t=e.movies,a=e.totalResults,n=e.genres;0===o.length&&l({cachedGenres:n}),i({movies:t,totalResults:a,isLoading:!1})}).catch(function(){c()})}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.movies,n=e.isLoading,r=e.searchQuery,c=e.type,o=r?"Searching results:":t;return i.a.createElement(be,{movies:a,title:o,isLoading:n,type:c})}}]),t}(i.a.Component))||Oe,Se=Object(s.b)(function(e){return Object(p.a)({},e)},{setPage:q})(fe=function(e){function t(){return Object(j.a)(this,t),Object(T.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(Q.a)(t,e),Object(U.a)(t,[{key:"changePage",value:function(e){(0,this.props.setPage)({page:e/R+1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.totalResults,r=t.isLoading,c=t.type,o=t.page;return i.a.createElement("div",null,i.a.createElement(ne,{onClickPage:function(t,a){return e.changePage(a)},page:o,totalResults:n}),i.a.createElement(V.a,null,i.a.createElement(Z,{title:a}),i.a.createElement(Re,{type:c,title:a,isLoading:r})))}}]),t}(i.a.Component))||fe,ke=(a(136),Object(F.a)());var Ae=function(){return i.a.createElement("div",{className:"wrapper"},i.a.createElement("div",{className:"app"},i.a.createElement(L.b,{history:ke},i.a.createElement(G,{history:ke}),i.a.createElement(L.c,null,i.a.createElement(L.a,{exact:!0,path:O.POPULAR,render:function(){return i.a.createElement(Se,{title:"Popular movies:",type:b.POPULAR})}}),i.a.createElement(L.a,{path:O.UPCOMING,render:function(){return i.a.createElement(Se,{title:"Upcoming movies:",type:b.UPCOMING})}}),i.a.createElement(L.a,{path:O.NOW_PLAYING,render:function(){return i.a.createElement(Se,{title:"Now playing movies:",type:b.NOW_PLAYING})}})))))},Ne=(a(138),Object(u.createLogger)()),Le=Object(l.c)(N,Object(l.a)(Ne));o.a.render(i.a.createElement(s.a,{store:Le},i.a.createElement(Ae,null)),document.getElementById("root"))},86:function(e,t){e.exports="data:image/png;base64,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"},93:function(e,t,a){e.exports=a(139)}},[[93,1,2]]]);
//# sourceMappingURL=main.ebb7e3db.chunk.js.map